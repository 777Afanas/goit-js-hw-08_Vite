{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector('.feedback-form');\nconst LOCALSTORAGE_KEY = 'feedback-form-state';\n\nform.addEventListener('input', throttle(saveData, 500));\nform.addEventListener('submit', resetData);\n\nupdateForm();\nconst formData = {};\n\nfunction saveData(evt) {\n  evt.preventDefault();\n\n  formData[evt.target.name] = evt.target.value;\n\n  // const formElements = evt.currentTarget.elements;\n  // const email = formElements.email.value;\n  // const message = formElements.message.value;\n  // const dataForm = { email, message };\n\n  // localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(dataForm));\n  localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction updateForm() {\n  const saveData = JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY));\n\n  if (saveData) {\n    form.elements.email.value = saveData.email || '';\n    form.elements.message.value = saveData.message || '';\n  }\n}\n\nfunction resetData(evt) {\n  evt.preventDefault();\n  console.log(localStorage.getItem(LOCALSTORAGE_KEY));\n  localStorage.removeItem(LOCALSTORAGE_KEY);\n  form.reset();\n}\n"],"names":["form","LOCALSTORAGE_KEY","throttle","saveData","resetData","updateForm","formData","evt"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAmB,sBAEzBD,EAAK,iBAAiB,QAASE,EAASC,EAAU,GAAG,CAAC,EACtDH,EAAK,iBAAiB,SAAUI,CAAS,EAEzCC,IACA,MAAMC,EAAW,CAAA,EAEjB,SAASH,EAASI,EAAK,CACrBA,EAAI,eAAc,EAElBD,EAASC,EAAI,OAAO,MAAQA,EAAI,OAAO,MAQvC,aAAa,QAAQN,EAAkB,KAAK,UAAUK,CAAQ,CAAC,CACjE,CAEA,SAASD,GAAa,CACpB,MAAMF,EAAW,KAAK,MAAM,aAAa,QAAQF,CAAgB,CAAC,EAE9DE,IACFH,EAAK,SAAS,MAAM,MAAQG,EAAS,OAAS,GAC9CH,EAAK,SAAS,QAAQ,MAAQG,EAAS,SAAW,GAEtD,CAEA,SAASC,EAAUG,EAAK,CACtBA,EAAI,eAAc,EAClB,QAAQ,IAAI,aAAa,QAAQN,CAAgB,CAAC,EAClD,aAAa,WAAWA,CAAgB,EACxCD,EAAK,MAAK,CACZ"}